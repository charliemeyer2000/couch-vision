# Isaac ROS cuVSLAM parameters for CouchVision.
# GPU-accelerated visual SLAM using monocular camera input.
#
# cuVSLAM expects grayscale mono8 images. The nav2_planner.py publishes
# grayscale to /camera/image_gray when SLAM_BACKEND=cuvslam.

# Node name in launch file is "visual_slam" so namespace must match
visual_slam:
  ros__parameters:
    # Camera configuration (monocular)
    num_cameras: 1
    camera_optical_frames: ["camera"]

    # Frame IDs (must match TF tree)
    map_frame: "map"
    odom_frame: "odom"
    base_frame: "base_link"

    # Disable IMU fusion - bag data doesn't have high-frequency IMU (200Hz required)
    # Pure visual odometry should work for monocular with enough features
    enable_imu_fusion: false
    # imu_frame: "imu"

    # Disable ground constraint (not a wheeled robot on flat ground)
    enable_ground_constraint_in_odometry: false
    enable_ground_constraint_in_slam: false

    # Enable full SLAM (localization + mapping)
    enable_localization_n_mapping: true

    # Publish TF
    publish_odom_to_base_tf: true
    publish_map_to_odom_tf: true

    # Image processing
    rectified_images: true
    img_jitter_threshold_ms: 50.0
    image_buffer_size: 20

    # Verbosity (0=quiet, 1=info, 2=debug)
    verbosity: 2
